{
  "name": "gotreasa-berlin-clock",
  "version": "1.0.0",
  "description": "Berlin Clock by Gearoid repository",
  "homepage": "https://github.com/gotreasa/gotreasa-berlin-clock#readme",
  "bugs": {
    "url": "https://github.com/gotreasa/gotreasa-berlin-clock/issues"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/gotreasa/gotreasa-berlin-clock.git"
  },
  "license": "Apache-2.0",
  "author": "Gearoid O'Treasaigh",
  "type": "module",
  "main": "src/gotreasa-berlin-clock.js",
  "scripts": {
    "clean": "rimraf pact",
    "detect-secrets": "cross-env-shell docker run --platform linux/amd64 --rm -v ${INIT_CWD}:/code icr.io/git-defenders/detect-secrets-hook:0.13.1.ibm.56.dss --baseline .secrets.baseline",
    "detect-secrets:audit": "cross-env-shell docker run -it --platform linux/amd64 --rm -v ${INIT_CWD}:/code icr.io/git-defenders/detect-secrets:0.13.1.ibm.56.dss audit --report --fail-on-unaudited --fail-on-live --fail-on-audited-real .secrets.baseline",
    "detect-secrets:exclude": "cross-env-shell docker run --platform linux/amd64 --rm -v ${INIT_CWD}:/code icr.io/git-defenders/detect-secrets:0.13.1.ibm.56.dss scan --update .secrets.baseline --exclude-files",
    "detect-secrets:update-baseline": "cross-env-shell docker run --platform linux/amd64 --rm -v ${INIT_CWD}:/code icr.io/git-defenders/detect-secrets:0.13.1.ibm.56.dss scan --update .secrets.baseline",
    "lint:fix": "eslint --cache --fix",
    "lint:verify": "eslint .",
    "pre-push": "concurrently 'npm test' 'npm run test:security'",
    "precommit": "lint-staged --relative --verbose",
    "prepare": "husky",
    "prettier:fix": "prettier --write",
    "prettier:verify": "prettier --check \"*.{css,feature,js,json,rb,md,sh,yaml,yml}\"",
    "publish:pact": "env-cmd node test/scripts/publish.pacts.js",
    "release": "release-it",
    "save": "./scripts/save.sh",
    "start": "npm run start:app",
    "start:app": "export SERVER_PORT=9080 && node app.js",
    "start:app:watch": "export SERVER_PORT=9080 && nodemon app.js",
    "start:cli": "node src/cli/time.js",
    "test": "rimraf pact/pacts/* && export SERVER_PORT=$(./scripts/get_random_number.sh) && npm run test:api:consumer && npm run publish:pact && env-cmd jest --testTimeout 30000 && npm run test:unit:container && npx swagger-mock-validator openapi.json pact/pacts/berlin_clock_client-berlin_clock_app.json",
    "test:api": "rimraf pact/pacts/* && rimraf pact/postman/* && npm run test:api:consumer && npm run test:api:provider && ./test/scripts/generate_postman.sh && newman run pact/postman/collections/postman_collection.json -r cli,json --env-var 'url=http://localhost:9080'",
    "test:api:consumer": "jest test/**/*.consumer.pact.spec.js",
    "test:api:consumer:watch": "npm run test:api:consumer -- --watch",
    "test:api:provider": "export SERVER_PORT=$(./scripts/get_random_number.sh) && env-cmd jest test/**/*.provider.pact.spec.js --testTimeout 30000",
    "test:api:provider:watch": "npm run test:api:provider -- --watch",
    "test:api:watch": "export SERVER_PORT=$(./scripts/get_random_number.sh) && env-cmd jest test/**/*.pact.spec.js --testTimeout 30000 --watch",
    "test:bdd": "jest ./features",
    "test:bdd:watch": "npm run test:bdd -- --watch",
    "test:mutation": "export SERVER_PORT=$(./scripts/get_random_number.sh) && npx stryker run",
    "test:security": "env-cmd snyk test --all-projects && env-cmd snyk code test",
    "test:security:dev": "npm run test:security -- --dev",
    "test:unit": "jest ./test --testPathIgnorePatterns test/**/*.pact.spec.js",
    "test:unit:container": "inspec exec test/container/unit/*.rb --chef-license accept-silent",
    "test:unit:container:watch": "chokidar '**.rb' 'Dockerfile' 'compose.yaml' --initial -c 'npm run test:unit:container'",
    "test:unit:watch": "npm run test:unit -- --watch"
  },
  "lint-staged": {
    "*": [
      "./scripts/detect-secrets.sh"
    ],
    "*.js": [
      "npm run lint:fix"
    ],
    "*.{css,feature,js,json,rb,md,sh,yaml,yml}": [
      "npm run prettier:fix"
    ],
    "Dockerfile": [
      "hadolint Dockerfile"
    ],
    "openapi.json": [
      "npx swagger-cli validate openapi.json"
    ],
    "package.json": [
      "sort-package-json",
      "typesync ./package.json --silent"
    ]
  },
  "dependencies": {
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "csurf": "^1.11.0",
    "express": "^4.21.2",
    "express-rate-limit": "^7.5.0",
    "helmet": "^8.0.0",
    "swagger-ui-express": "^5.0.1"
  },
  "devDependencies": {
    "@babel/preset-env": "^7.26.9",
    "@commitlint/cli": "^19.7.1",
    "@commitlint/config-conventional": "^19.7.1",
    "@microsoft/eslint-formatter-sarif": "^3.1.0",
    "@pact-foundation/pact": "^14.0.0",
    "@pact-foundation/pact-node": "^10.18.0",
    "@prettier/plugin-ruby": "^4.0.4",
    "@release-it/conventional-changelog": "^10.0.0",
    "@stryker-mutator/core": "^8.7.1",
    "@stryker-mutator/jest-runner": "^8.7.1",
    "@types/babel__preset-env": "~7.10.0",
    "@types/cookie-parser": "^1.4.8",
    "@types/cors": "^2.8.17",
    "@types/csurf": "^1.11.5",
    "@types/current-git-branch": "^1.1.6",
    "@types/eslint-config-prettier": "^6.11.3",
    "@types/express": "^5.0.0",
    "@types/lint-staged": "^13.3.0",
    "@types/newman": "^5.3.6",
    "@types/supertest": "^6.0.2",
    "@types/swagger-ui-express": "^4.1.8",
    "absolute-version": "^2.0.0",
    "auto-changelog": "^2.5.0",
    "axios": "^1.8.2",
    "babel-jest": "^29.7.0",
    "chokidar-cli": "^3.0.0",
    "concurrently": "^9.1.2",
    "cross-env": "^7.0.3",
    "current-git-branch": "^2.0.1",
    "env-cmd": "^10.1.0",
    "eslint": "^9.21.0",
    "eslint-config-airbnb-base": "^15.0.0",
    "eslint-config-prettier": "^10.0.2",
    "eslint-plugin-import": "^2.31.0",
    "eslint-plugin-jest": "^28.11.0",
    "eslint-plugin-jest-formatting": "^3.1.0",
    "eslint-plugin-prettier": "^5.2.3",
    "eslint-plugin-sonarjs": "^3.0.2",
    "globals": "^16.0.0",
    "husky": "^9.1.7",
    "jest": "^29.7.0",
    "jest-config": "^29.7.0",
    "jest-cucumber-fusion": "^0.8.1",
    "jest-junit": "^16.0.0",
    "jest-pact": "^0.11.2",
    "lint-staged": "^15.4.3",
    "mockdate": "^3.0.5",
    "newman": "^6.2.1",
    "node-git-current-branch": "^2.0.1",
    "nodemon": "^3.1.9",
    "npm-check-updates": "^17.1.15",
    "pmpact": "^0.4.6",
    "prettier": "^3.5.3",
    "prettier-plugin-gherkin": "^3.1.1",
    "prettier-plugin-sh": "^0.15.0",
    "release-it": "^18.1.2",
    "rimraf": "^6.0.1",
    "snyk": "^1.1295.4",
    "sonarqube-scanner": "^4.2.8",
    "sort-package-json": "^2.15.1",
    "supertest": "^7.0.0",
    "swagger-cli": "^4.0.4",
    "swagger-mock-validator": "^11.0.0",
    "typesync": "^0.14.1"
  },
  "engines": {
    "node": "v22.11.0"
  }
}
